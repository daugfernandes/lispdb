SOBRE O PARSER
==============

O texto é composto por linhas de 0,1 ou mais carácteres separadas por cr, CRlf ou lf.

As linhas podem ser dos seguintes tipos:

A)

Linha branca composta por 0, 1 ou mais espaços

B) Início de canto

*

Um asterisco seguido de 0, 1 ou mais expaços

C) Início de estrofe

Um ou mais algarismos indicadores do número da estrofe. NOTA: não vai ser utilizado para efeitos de contagem de estrofes.

D)

Carácteres não inicialmente numericos

Verso


NOTA SOBRE VERSOS:

" indica discurso directo:

A parte do texto em discurso directo começa com " que podem ou não surgir no início de um verso e termina também com ".

Quando o texto em discurso directo se prolonga por mais do que uma estrofes, cada estrofe do texto pode iniciar-se com ".

Sublinho pode porque nem sempre acontece.

É de supor correcto assumir que um texto em discurso directo,m portanto iniciado com ",m termina em " que não início de verso. Pelo que, em discurso directo, as " em início de estrofe são de ignorar.

NOTA ADICIONAL:

Os vários versos de uma mesma estrofe econtram-se separados por apenas UM, cr, CRLf ou Lf, isto é, não hã linhas do tipo A entre dois versos da mesma estrofe.

Por outro lado, duas estrofes são separadas por uma ou mais linhas brancas do tipo A, e/ou, uma linha do tipo C.

LRT

Lista representativa do texto

O resultado do PARSER ser'ã uma lista com a seguinte estrutura:

*pontuação => {, . : ; - ? ( )}
*palavra => (list palavra capitalizada)  ; palavra minusculizada

    Ex: (list "tagides" T)
    	(list "mandas-me" nil)

*ocpalavra => (list pontuação palavra pontuação)

    Ex: (list nil (list "portanto" nil) ",")
     	(list "(" (list "depois" nil)   nil)

*verso   => (list :verso (list *ocpalavra1 *ocpalavra2 ...))

    Ex: (list (list (list nil "as" nil) T) (list (list nil "armas" nil) nil) ... (list (list nil "assinalados" ",") nil)

*estrofe => (list :estrofe (list *verso1 *verso2 ...))

*canto   => (list :canto (list *estrofe1 *estrofe2 ...))

'- ' - hifen seguido de espaço indica inicio de discurso directo e pode ocorrer no fim de uma estrofe, iniciando-se o bloco em discurso directo na estrofe seguinte.

' aparece como separador de palavra como por exemplo:
 co'os => com
 D'água => da
 n'água => na
